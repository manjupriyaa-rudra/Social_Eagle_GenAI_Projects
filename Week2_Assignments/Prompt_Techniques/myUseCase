# Use Case: SQL Assistant Agent for Non-Technical Users
________________________________________
# 1. Objective
To provide an intelligent agent that helps users with little or no SQL knowledge (such as Managers and Junior Testers) to:
    - Ask questions in plain English
    - Understand their data requirements clearly
    - Automatically generate correct SQL queries
    - Explain existing SQL queries in simple, non-technical language
    - Connect to BigQuery database and generate environment-specific queries
________________________________________
# 2. Actors
# Primary Actors
    - Manager
    - Junior Tester
    - Business User
# Secondary Actor
    - SQL Assistant Agent (AI system)
    - BigQuery Database
________________________________________
# 3. Preconditions
    - User has access to the SQL Assistant Agent
    - BigQuery database connection is configured
    - User selects or confirms:
        - Environment (Dev / QA / Prod)
        - Table name
        - Column name (if required)
________________________________________
# 4. Trigger
User enters:
    - A business question in plain English
OR
    - A SQL query that needs explanation
________________________________________
# 5. Main Flow (Normal Scenario)
# Scenario 1: Plain English Question to SQL Query
    1.	User enters a requirement in plain English
        o Example: “Show me all customers who purchased in last 30 days.”
    2.	Agent analyzes the requirement and explains it in simple terms
        o “You want a list of customers who made a purchase within the last 30 days.”
    3.	Agent asks user to confirm:
        o Environment (Dev/QA/Prod)
        o Table name
        o Column names (date, customer_id, etc.)
    4.	User provides or confirms the details.
    5.	Agent generates a complete SQL query for BigQuery.
    6.	User copies and runs the SQL query directly in BigQuery.
    7.	Agent optionally explains what each part of the SQL query does in simple language.
________________________________________
# Scenario 2: SQL Query Explanation
    1.	User pastes an existing SQL query into the agent.
    2.	Agent explains the SQL query step-by-step in non-technical language.
        o Example:
            - What table is being used
            - What data is being filtered
            - What result will be returned
    3.	User understands the logic without needing SQL knowledge.
________________________________________
# 6. Alternate Flow
    A1: Missing Information
        -	If user does not provide table name or environment:
        -	Agent prompts user to select or enter missing details.
    A2: Invalid Column or Table Name
        -	Agent notifies user that the column/table does not exist and requests correction.
________________________________________
# 7. Postconditions
    User receives:
        -	A valid SQL query for BigQuery
    OR
        -	A clear explanation of the SQL query in simple language
        -	User can use the generated SQL to retrieve data successfully.
________________________________________
# 8. Business Benefits
    -	Reduces dependency on SQL developers
    -	Saves time for managers and testers
    -	Improves data accessibility
    -	Minimizes SQL errors
    -	Enables faster decision making
________________________________________
# 9. Non-Functional Requirements
    -	System should support plain English input
    -	SQL output should be compatible with BigQuery
    -	Response time should be less than 5 seconds
    -	Easy-to-use interface (chat-based)
    -	Secure database connection
________________________________________
# 10. Sample Use Case Example
    User Input (Plain English):
            “Get total sales for each product for last month.”

    Agent Explanation:
            “You want to see how much each product sold in the previous month.”
            Agent SQL Output (BigQuery):
                SELECT product_name, SUM(sales_amount) AS total_sales
                FROM sales_table
                WHERE sale_date >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 MONTH)
                GROUP BY product_name;

    Agent SQL Explanation:
        -	Selects product name and total sales
        -	Filters records for last month
        -	Groups results by product

